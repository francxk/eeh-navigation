!function(a,b){"use strict";b["eeh-navigation"]=a;var c=function(a,b){return{restrict:"AE",transclude:!0,templateUrl:"template/eeh-navigation/eeh-navigation.html",link:function(c,d){function e(){var a=d.find(".sidebar .menu-item-text"),c=d.find(".sidebar");b.sidebarTextCollapseIsCollapsed()?(i.addClass("sidebar-text-collapsed"),c.addClass("sidebar-text-collapsed"),a.addClass("hidden")):(i.removeClass("sidebar-text-collapsed"),c.removeClass("sidebar-text-collapsed"),a.removeClass("hidden"))}c._navbarBrand=b._navbarBrand,c._sidebarTextCollapse=b._sidebarTextCollapse,c._sidebarSearch=b._sidebarSearch,c.isNavbarCollapsed=!1,c._navbarMenuItems=b._navbarMenuItems,c.$watch("_navbarMenuItems",function(){var a=b.navbarMenuItems();c.leftNavbarMenuItems=a.filter(function(a){return!a.isHeavy()}),c.rightNavbarMenuItems=a.filter(function(a){return a.isHeavy()})}),c._sidebarMenuItems=b._sidebarMenuItems,c.$watch("_sidebarMenuItems",function(){c.sidebarMenuItems=b.sidebarMenuItems()});var f=angular.element(a);f.bind("resize",function(){c.$apply()});var g=function(){return{height:f.height(),width:f.width(),innerHeight:f.innerHeight(),innerWidth:f.innerWidth()}},h=50,i=d.find("#eeh-navigation-page-wrapper");c.$watch(g,function(b){if(!angular.isUndefined(b)){var d=b.innerWidth>0?b.innerWidth:a.screen.width;768>d?(c.isNavbarCollapsed=!0,h=100):c.isNavbarCollapsed=!1;var e=b.innerHeight>0?b.innerHeight:a.screen.height;e-=h,1>e&&(e=1),e>h&&i.css("min-height",e+"px")}},!0),c.toggleSidebarTextCollapse=function(){b.sidebarTextCollapseToggleCollapsed(),e()},c.$on("$includeContentLoaded",function(){e()})}}};angular.module("eehNavigation").directive("eehNavigation",["$window","eehNavigation",c]);var d=function(a){return{restrict:"A",link:function(b,c){var d=c.parent().parent().prev(),e="active";b.$watch(function(){return a.url()},function(){d.toggleClass(e,c.hasClass(e))})}}};angular.module("eehNavigation").directive("eehActiveParentMenuItem",d);var e=function(a){this.weight=0,angular.extend(this,a)};e.prototype.children=function(){var a=[];return angular.forEach(this,function(b){angular.isObject(b)&&b instanceof e&&a.push(b)}),a},e.prototype.hasChildren=function(){return this.children().length>0},e.prototype._isVisible=function(){var a=this.children().filter(function(a){return a._isVisible()!==!1}).length>0;return!a&&angular.isUndefined(this.state)&&angular.isUndefined(this.href)&&angular.isUndefined(this.click)&&!this.isDivider?!1:angular.isFunction(this.isVisible)?this.isVisible():angular.isDefined(this.isVisible)?this.isVisible:!0},e.prototype.isVisible=function(){return!0},e.prototype.isHeavy=function(){return this.hasOwnProperty("weight")?this.weight>=0:void 0};var f=function(){this._sidebarSearch={isVisible:!0,model:"",submit:function(){}},this._sidebarTextCollapse={isVisible:!0,isCollapsed:!1},this.navbarBrand=this._navbarBrand={text:"",state:"",href:"",src:""},this._navbarMenuItems={},this._sidebarMenuItems={},this._toArray=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}};f.prototype.$get=function(){return this},f.prototype.searchIsVisible=function(a){return angular.isUndefined(a)?this._sidebarSearch.isVisible:(this._sidebarSearch.isVisible=a,this)},f.prototype.searchModel=function(a){return angular.isUndefined(a)?this._sidebarSearch.model:(this._sidebarSearch.model=a,this)},f.prototype.searchSubmit=function(a){return angular.isUndefined(a)?this._sidebarSearch.submit:(this._sidebarSearch.submit=a,this)},f.prototype.buildAncestorChain=function(a,b,c){var d=a.split(".");if(0!==a.length&&0!==d.length){var e=d.shift();angular.isUndefined(b[e])&&(b[e]=0===d.length?c:{},0===d.length&&(b[e]=c)),this.buildAncestorChain(d.join("."),b[e],c)}},f.prototype.sidebarMenuItem=function(a,b){if(angular.isUndefined(b)){if(angular.isUndefined(this._sidebarMenuItems[a]))throw a+" is not a sidebar menu item";return this._sidebarMenuItems[a]}return this._sidebarMenuItems[a]=new e(b),this},f.prototype.sidebarMenuItems=function(){var a={},b=this;return angular.forEach(this._sidebarMenuItems,function(c,d){b.buildAncestorChain(d,a,c)}),this._toArray(a)},f.prototype.navbarMenuItem=function(a,b){if(angular.isUndefined(b)){if(angular.isUndefined(this._navbarMenuItems[a]))throw a+" is not a navbar menu item";return this._navbarMenuItems[a]}return this._navbarMenuItems[a]=new e(b),this},f.prototype.navbarMenuItems=function(){var a={},b=this;return angular.forEach(this._navbarMenuItems,function(c,d){b.buildAncestorChain(d,a,c)}),this._toArray(a)},f.prototype.sidebarTextCollapseIsVisible=function(a){return angular.isUndefined(a)?this._sidebarTextCollapse.isVisible:(this._sidebarTextCollapse.isVisible=a,this)},f.prototype.sidebarTextCollapseIsCollapsed=function(a){return angular.isUndefined(a)?this._sidebarTextCollapse.isCollapsed:(this._sidebarTextCollapse.isCollapsed=a,this)},f.prototype.sidebarTextCollapseToggleCollapsed=function(){return this._sidebarTextCollapse.isCollapsed=!this._sidebarTextCollapse.isCollapsed,this},angular.module("eehNavigation").provider("eehNavigation",f),angular.module("eehNavigation",["eehTranslate"]),angular.module("eehTranslate",[]);var g=function(a){a.has("$translate")&&(this._translate=a.get("$translate"))};g.prototype.isAvailable=function(){return angular.isDefined(this._translate)},g.prototype.instant=function(a,b,c){return this.isAvailable()?this._translate.instant(a,b,c):a},angular.module("eehTranslate").service("eehTranslate",["$injector",g]);var h=function(a){var b=this;return b.eehTranslate=a,function(a){return b.eehTranslate.instant(a)}};angular.module("eehTranslate").filter("eehTranslate",["eehTranslate",h])}({},function(){return this}());
//# sourceMappingURL=eeh-navigation.min.js.map